# 默认新建文件的权限

---

---

## 设置新建文件的默认权限——umask

```shell
$ umask         
0022			# 第一位叫做粘着位(sticky bit)，个别发行版没有；后面的3位表示文件对应的umask八进制值

$ touch newfile

$ ls -al newfile
-rw-r--r-- 1 yj yj 0 Sep 20 19:16 newfile		# 权限为 644
```

---

## 八进制模式的安全性设置

> 八进制模式的安全性设置先获取新建文件**读、写、执行**权限的值，然后转换成3位二进制值，用一个八进制值来表示
>
> 在这个二进制表示中，每个位置有一个二进制位，因此如果读权限是唯一置位的权限，权限值就是**r--**，转换成二进制值就是**100**，代表的八进制值是**4**

**Linux文件权限码**：

| 权限 | 二进制值 | 八进制值 | 描述           |
| ---- | -------- | -------- | -------------- |
| ---  | 000      | 0        | 没有任何权限   |
| --x  | 001      | 1        | 可执行         |
| -w-  | 010      | 2        | 可写           |
| -wx  | 011      | 3        | 可写可执行     |
| r--  | 100      | 4        | 可读           |
| r-x  | 101      | 5        | 可读可执行     |
| rw-  | 110      | 6        | 可读可写       |
| rwx  | 111      | 7        | 可读可写可执行 |

---

## 权限的运算

`umask`的值是一个掩码，作用是屏蔽掉不想授予该安全级别的权限，因此新建文件或者文件夹的权限是：

- 文件：**全权限值666（执行权限单独赋予）**
  $$
  666-022=644
  $$
  因此新建文件的权限是644

- 文件夹：**全权限777**
  $$
  777-022=755
  $$
  因此新建文件夹的权限是755